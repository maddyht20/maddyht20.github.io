{ "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

"description": "A simple donut chart with embedded data.",

"height":300,
"width":500,
"view": {"stroke": "transparent"},

"title": {
      "text": "US GVA by sector",
      "fontSize": 16,
      "subtitle": ["2022 Q3. USD billions.", " Source: BEA", ""],
      "subtitleFontStyle":"italic",
      "subtitleFontSize":12,
      "anchor": "start",
      "color": "black"},

"data": {
  "url": "https://raw.githubusercontent.com/RDeconomist/classes/main/E4E_macro/US_BEA_GDP_GVAbyIndustry.csv" 
},

"transform": [
  {"filter":{"field": "Number", "oneOf":[3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 17, 18]}}
],

"mark": {
  "type": "bar",
  "color":"rgb(128,0,0)"},

"encoding": {
  "x": {
      "field": "Value", 
      "type": "quantitative",
        "axis": {
          "title": null,
          "grid": false,
          "ticks": false,
          "labelPadding": 5,
          "labelFontSize": 11
          }},

  "y": {
      "field": "shortName", 
      "type": "nominal",
      "sort": {"field": "Number", "order": "ascending"},
      "axis": {
          "title": null,
          "grid": false,
          "ticks": false,
          "labelPadding": 5,
          "labelFontSize": 11
          }},
  
  "color":{
    "field":"privatePublic",
    "legend": {"orient": "top", "title":null},
    "sort": {"field": "Number", "order": "ascending"},
    "scale":{"range":["rgb(118,118,118)", "rgb(128,0,0)"]}
  },
  
  "tooltip":[
      {"field":"Item", "title":"Industry", "type":"nominal"},
      {"field":"Value", "title":"Amount (US$ Biliions)", "format":"$.0f"}
  ]
}
}
