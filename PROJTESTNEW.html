<!DOCTYPE html>
<html lang="en">

<!-- Madeline Thomas: Data Science for Economists Project 2022/23 -->

<!-- //////////////////////////////////// HTML HEAD //////////////////////////////////// -->

<head>

    <!-- The following lines are used to enable the Vega embed -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>
 
    <!-- Page Title (not visible on page - in head section)-->
    <title>Madeline Thomas - Project</title>
 
    <!--Favicon-->
    <link rel="shortcut icon" href="MTFavicon.png" />
 
    <!-- Linking to CSS file -->
    <link rel="stylesheet" href="PROJTESTNEW.css">
 
    <!-- Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css?family=Raleway');
    </style>

</head>

<!-- //////////////////////////////////// END OF HEAD //////////////////////////////////// -->



<!-- //////////////////////////////////// BODY //////////////////////////////////// -->

<body>
    <!--Background animation-->
    <div class="bganim">
        <div class="bg1">

            <!--Navigation Bar-->
            <div class="nav-bar">
                <a href="#" class="active">Project</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="index.html">Home</a>
                <a href="https://github.com/maddyht20/maddyht20.github.io/">Github</a>
                <a href="https://rapidcharts.io/datascience">Course</a>
            </div>

            <div>
                <!-- Visible Header Bar on Page -->
                <div class="heading">
                    <h1>Data <span style="color: #707793"> Science</span></h1>
                    <h1 style="color:#eee"><b>Project</b></h1>
                    <p>Madeline Thomas<span style="color: #eee"> | </span><span style="color: #94d7c8">1901117</span></p>
                </div>

                <!-- Project Question in its own box just below main heading bar -->
                <div class="subheading">
                    <h1>What factors influence how charitable countries are?</h1>
                </div>

                <br></br>

                <!-- Sub questions in boxes -->
                <div class="content">
                    <div class="content-box">
                        <div class="content-box-new">
                            <h2>Part 1: What are the trends in charitable giving across countries and time?</h2>
                        </div>
                    </div>
                </div>
            </div>

        

        <!-- Project Main Content -->

            <!-- Section with text about the aim of the project -->

            <div class="content-box">
                <div class="maincontents">
                    <p>Accepted economic theory concludes that positive changes in house prices results in more
                        consumer spending and personal investment. As <a
                            href="https://www.bankofengland.co.uk/knowledgebank/how-does-the-housing-market-affect-the-economy">two
                            thirds of Britain’s households are homeowners</a>,
                        house price inflation increases GDP through the boosted consumption generated from higher levels
                        of confidence. As GDP is a key indicator of the economy’s performance, it is critical to assess
                        what influences house prices.</p>
                    <p>One factor affecting house prices is crime because rates of vandalism and anti-social behaviour can be
                        a signal to prospective buyers of the local community health and crimes such as burglary or
                        property damage pose a risk to the property itself and personal safety. Intuitively, high crime
                        rates make local properties less desirable and cost less.</p>
                    <p>Therefore, this project will investigate:</p>
                    <div class="content-box">
                        <div class="content-box-new">
                            <p>Is there a relationship between house prices and crime?</p>
                            <p>What is the nature of this relationship?</p>
                        </div>
                    </div>
                    <p>To carry out this investigation, this project focuses on London. Chart 1 supports this as London
                        house prices have a greater increasing trend compared to England’s other most populated cities
                        and Chart 2 demonstrates that there is a huge variation in house prices within London thus it is
                        reasonable to investigate if volatile London house prices are related to local crime rates.</p>         
                    <div class="content-box">
                        <!--Chart 1 - Overall patterns between countries and over time -->
                        <div class="chartpr1" id="Chart1"></div>
                        <!--Chart 2 - Overall time trend -->
                        <div class="chartpr2" id="Chart2"></div>
                    </div>
                </div>
            </div>
            

            <div class="separator">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>

            <div class="content">
                <div class="content-box">
                    <div class="content-box-new">
                        <h2>Part 2: What factors might explain these temporal trends?</h2>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <div class="maincontents">
                    <p>Chart 1 was made by feeding the 20 most populous UK cities scraped from <a
                            href="https://www.statista.com/statistics/294645/population-of-selected-cities-in-united-kingdom-uk/">Statista</a>
                        into a loop
                        in Google Colaboratory (GC) to scrape and save the average property prices for each city from
                        the <a
                            href="https://landregistry.data.gov.uk/app/ukhpi/browse?from=2000-01-01&location=http%3A%2F%2Flandregistry.data.gov.uk%2Fid%2Fregion%2Funited-kingdom&to=2021-10-01&lang=en">Land
                            Registry</a> URL base into an empty data frame (df). This df was remerged with the Statista
                        population estimates which are revealed in Chart 1 via tooltip. Chart 2 uses data from a <a
                            href="https://data.london.gov.uk/dataset/average-house-prices">Land Registry</a> CSV file
                        and I used GC to convert the appropriate columns into numeric data.</p>
                    <p>Whilst preparing the data for Chart 2, I also logged the median house prices because this would
                        reduce skewness towards large values. To merge house prices with crime data collected from the
                        <a href="https://data.london.gov.uk/dataset/recorded_crime_summary">Metropolitan Police
                            (MP)</a>, I converted the crime data from wide to long format and ensured the
                        data types of corresponding columns in the house price data matched. Github hosts all the GCs,
                        original and merged datasets.</p>
                    <p>Charts 4 and 5 update automatically and use the coordinates of Becontree and South Kensington
                        which are underground stations in the lowest and highest average house price boroughs,
                        respectively. These coordinates are used in the URL for the <a
                            href="https://data.police.uk/docs/method/crimes-at-location/">MP API</a> of the latest
                        crimes reported at those locations.</p>
                        <!--Chart 3 - Top 15 countries change in ranking -->
                        <div class="content-box">
                            <div class="chartpr3" id="Chart3"></div>
                        </div>
                </div>
            </div>


            <div class="separator">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>

            <div class="content">
                <div class="content-box">
                    <div class="content-box-new">
                        <h2>Part 3: What factors might explain these differences in charitability between countries?</h2>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <div class="maincontents">
                    <p>The main challenge of Chart 1 was converting the scraped city names into the correct format for
                        the loop. For example, the cities with more than one word such as Edinburgh had to be
                        decapitalised with hyphens to city-of-edinburgh to be fed into the URL base. Another problem is
                        that my analysis has a limited scope of 2008-2017 due to collection processes
                        of the data. To extend this analysis, more data is necessary.</p>
                    <p>The greatest challenge was handling the MP dataset; the crime data for each borough had a major
                        category (e.g. burglary) with one or more minor categories (e.g. 1. in a dwelling 2. in other
                        buildings) for each month every year, but for my analysis I only needed total major counts of
                        crime per year. I used Pandas in GC to make new dfs for each year to individually sum the crime
                        counts and simultaneously absorb the minor counts of crime into one parent major crime category.
                        Finally, the annual crime counts were copied into a central df and merged many-to-one with the
                        logged house prices to establish an all-encompassing df of annual total crime by crime type per
                        borough with the corresponding year’s median house price.</p>
                    <!--Chart 4 - Kepler Chart: GDP, Religiosity and Median Age-->
                    <div class="content-box">
                        <div id="ChartKepler"></div>
                        <iframe src="https://kepler.gl/demo/map?mapUrl=https://dl.dropboxusercontent.com/s/ibssoqissntlnck/keplergl_f9zkn3u.json" width="700" height="500"></iframe>
                        <div id="ChartKepler"></div>
                        <br></br>
                        <table>
                        <tr>
                            <td><div class="chartpr4" id="ChartP"></div></td>
                            <td><div class="chartpr4" id="ChartQ"></div></td> 
                            <td><div class="chartpr4" id="ChartV"></div></td> 
                        </tr>
                        </table> 
                        <br></br>
                    <!--Chart 5 + 6 - Main Religion impact on WGI-->
                        <table>
                            <tr>
                            <td><div class="chartpr5" id="Chart5"></div></td>
                            <td><div class="chartpr6" id="Chart6"></div></td> 
                            </tr>
                        </table>
                        <br></br>
                    <!--Chart 7 - Regressions: GDP, Religiosity and Median Age-->
                        <table>
                            <tr>
                            <td><div class="chartpr7" id="Chart7"></div></td>
                            <td><div class="chartpr7" id="Chart8"></div></td> 
                            <td><div class="chartpr7" id="Chart9"></div></td>
                            </tr>
                        </table> 
                    </div>
                </div>
            </div>


            <div class="separator">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>


            <!-- Section with text about the data I utilised for the project, the ways in which I accessed this data and comments regarding automation/replication -->

            <div class="content">
                <div class="content-box">
                    <div class="content-box-new">
                        <h2>Data</h2>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <div class="maincontents">
                    <p>The main challenge of Chart 1 was converting the scraped city names into the correct format for
                        the loop. For example, the cities with more than one word such as Edinburgh had to be
                        decapitalised with hyphens to city-of-edinburgh to be fed into the URL base. Another problem is
                        that my analysis has a limited scope of 2008-2017 due to collection processes
                        of the data. To extend this analysis, more data is necessary.</p>
                    <p>The greatest challenge was handling the MP dataset; the crime data for each borough had a major
                        category (e.g. burglary) with one or more minor categories (e.g. 1. in a dwelling 2. in other
                        buildings) for each month every year, but for my analysis I only needed total major counts of
                        crime per year. I used Pandas in GC to make new dfs for each year to individually sum the crime
                        counts and simultaneously absorb the minor counts of crime into one parent major crime category.
                        Finally, the annual crime counts were copied into a central df and merged many-to-one with the
                        logged house prices to establish an all-encompassing df of annual total crime by crime type per
                        borough with the corresponding year’s median house price.</p>
                </div>
            </div>


            <div class="separator">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>


            <!-- Section with text about difficulties faced during data cleaning and/or analysis, as well as the tools I utilised to overcome these challenges -->

            <div class="content">
                <div class="content-box">
                    <div class="content-box-new">
                        <h2>Challenges</h2>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <div class="maincontents">
                    <p>The main challenge of Chart 1 was converting the scraped city names into the correct format for
                        the loop. For example, the cities with more than one word such as Edinburgh had to be
                        decapitalised with hyphens to city-of-edinburgh to be fed into the URL base. Another problem is
                        that my analysis has a limited scope of 2008-2017 due to collection processes
                        of the data. To extend this analysis, more data is necessary.</p>
                    <p>The greatest challenge was handling the MP dataset; the crime data for each borough had a major
                        category (e.g. burglary) with one or more minor categories (e.g. 1. in a dwelling 2. in other
                        buildings) for each month every year, but for my analysis I only needed total major counts of
                        crime per year. I used Pandas in GC to make new dfs for each year to individually sum the crime
                        counts and simultaneously absorb the minor counts of crime into one parent major crime category.
                        Finally, the annual crime counts were copied into a central df and merged many-to-one with the
                        logged house prices to establish an all-encompassing df of annual total crime by crime type per
                        borough with the corresponding year’s median house price.</p>
                </div>
            </div>


            <div class="separator">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>


            <!-- Section with text about conclusions based on the charts and analysis I conducted, plus areas for further research -->

            <div class="content">
                <div class="content-box">
                    <div class="content-box-new">
                        <h2>Conclusions</h2>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <div class="maincontents">
                    <p>The main challenge of Chart 1 was converting the scraped city names into the correct format for
                        the loop. For example, the cities with more than one word such as Edinburgh had to be
                        decapitalised with hyphens to city-of-edinburgh to be fed into the URL base. Another problem is
                        that my analysis has a limited scope of 2008-2017 due to collection processes
                        of the data. To extend this analysis, more data is necessary.</p>
                    <p>The greatest challenge was handling the MP dataset; the crime data for each borough had a major
                        category (e.g. burglary) with one or more minor categories (e.g. 1. in a dwelling 2. in other
                        buildings) for each month every year, but for my analysis I only needed total major counts of
                        crime per year. I used Pandas in GC to make new dfs for each year to individually sum the crime
                        counts and simultaneously absorb the minor counts of crime into one parent major crime category.
                        Finally, the annual crime counts were copied into a central df and merged many-to-one with the
                        logged house prices to establish an all-encompassing df of annual total crime by crime type per
                        borough with the corresponding year’s median house price.</p>
                </div>
            </div>


            <div class="separator">
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
                <div class="circle"></div>
            </div>


            <h2>Related files</h2>

            <div class="content-box">
                <div class="maincontents">
                    <div class="content-box">
                <div class="maincontents">
                    <div class="extra">
                    <p>Chart 1: UK House Prices | Original data source: <a
                        href="https://www.statista.com/statistics/294645/population-of-selected-cities-in-united-kingdom-uk/">Statista</a> & <a
                        href="https://landregistry.data.gov.uk/app/ukhpi/browse?from=2000-01-01&location=http%3A%2F%2Flandregistry.data.gov.uk%2Fid%2Fregion%2Funited-kingdom&to=2021-10-01&lang=en">Land
                        Registry</a> | My Google Colab: <a href="https://github.com/sachahenson/sachahenson.github.io/blob/main/project/Colab/UKHousePrices.ipynb">UK House Prices</a> | CSV file: <a href="https://github.com/sachahenson/sachahenson.github.io/blob/main/project/My%20datasets/houseprices_pop.csv">UK House Prices</a>
                    </p>
                    <p>Chart 2: London Borough House Prices | Original data source: <a
                        href="https://data.london.gov.uk/dataset/average-house-prices">Land Registry</a> |  My Google Colab: <a href="https://github.com/sachahenson/sachahenson.github.io/blob/main/project/Colab/Loghouseprices08_17.ipynb">median borough house prices</a> | My CSV file: <a href="https://github.com/sachahenson/sachahenson.github.io/blob/main/project/My%20datasets/loghouseprices08-17.csv">borough house prices</a>
                    </p>
                    <p>Chart 3: Annual Total Crime and Median House Prices | Original data source: <a
                        href="https://data.london.gov.uk/dataset/average-house-prices">Land Registry</a> & <a
                        href="https://data.london.gov.uk/dataset/recorded_crime_summary">Metropolitan Police</a> | My Google Colab: <a href="https://github.com/sachahenson/sachahenson.github.io/blob/main/project/Colab/London_crime.ipynb">logged borough house prices merged with crime data</a> | My CSV file: <a href="https://github.com/sachahenson/sachahenson.github.io/blob/main/project/My datasets/crime_houseprices_annual.csv">logged median borough house prices and crime</a>
                    </p>
                    <p>Chart 4: Crime Outside Becontree Station | Original data source: <a
                        href="https://data.police.uk/api/crimes-street/all-crime?lat=51.540058&lng=0.127693">Metropolitan Police API</a>
                    </p>
                    <p>Chart 5: Crime Outside South Kensington Station | Original data source: <a
                        href="https://data.police.uk/api/crimes-street/all-crime?lat=51.493862&lng=-0.174561">Metropolitan Police API</a>
                    </p>
                </div>
                </div>
            </div>

        </div>
    </div>

<footer></footer>

</body>

<!-- //////////////////////////////////// END OF BODY //////////////////////////////////// -->

<script>
    // Define charts
    var myChart1 = "Chart1proj.json";
    var myChart2 = "Chart2proj.json";
    var myChart3 = "Chart3proj.json";
    // var myChart4 = "Chart4proj.json";
    var myChart5 = "Chart5proj.json";
    var myChart6 = "Chart6proj.json";
    var myChart7 = "Chart7proj.json";
    var myChart8 = "Chart8proj.json";
    var myChart9 = "Chart9proj.json";
    var myChartP = "ChartPproj.json";
    var myChartQ = "ChartQproj.json";
    var myChartV = "ChartVproj.json";
    // Embed charts
    vegaEmbed('#Chart1', myChart1);
    vegaEmbed('#Chart2', myChart2);
    vegaEmbed('#Chart3', myChart3);
    // vegaEmbed('#Chart4', myChart4);
    vegaEmbed('#Chart5', myChart5);
    vegaEmbed('#Chart6', myChart6);
    vegaEmbed('#Chart7', myChart7);
    vegaEmbed('#Chart8', myChart8);
    vegaEmbed('#Chart9', myChart9);
    vegaEmbed('#ChartP', myChartP);
    vegaEmbed('#ChartQ', myChartQ);
    vegaEmbed('#ChartV', myChartV);
</script>

</html>
